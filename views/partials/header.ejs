<!DOCTYPE html>
<html lang="en">
<head>
    <!-- meta charset - sets character encoding for the document -->
    <meta charset="UTF-8">
    <!-- viewport meta - ensures responsive design on mobile devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- page title - displays in browser tab and bookmarks -->
    <title>BlogParty</title>
    <!-- custom stylesheet - links to the main css file -->
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <!-- header section - main navigation header - contains site title and navigation links -->
    <header class="navbar navbar-expand-lg navbar-dark bg-success shadow-sm">
        <!-- header content container - centers and constrains the header content -->
        <div class="container">
            <!-- site title - displays the main heading of the application -->
            <a class="navbar-brand fw-bold fs-3 text-white" href="/posts">
                <!-- brand icon - bootstrap icon for journal/rich text -->
                <i class="bi bi-journal-richtext me-2 text-white"></i>
                <!-- brand text - application name -->
                BlogParty
            </a>
            
            <!-- navigation container - holds the main navigation links -->
            <nav class="navbar-nav ms-auto">
                <!-- conditional navigation based on authentication status -->
                <% if (locals.user) { %>
                    <!-- authenticated user navigation -->
                    <!-- feed link - links to the main page showing all posts -->
                    <a class="nav-link text-white" href="/posts">
                        <!-- home icon - bootstrap icon for house/home -->
                        <i class="bi bi-house me-1"></i>
                        <!-- link text - descriptive text for the navigation -->
                        Feed
                    </a>
                    
                    <!-- user dropdown menu -->
                    <div class="nav-item dropdown">
                        <!-- dropdown toggle button -->
                        <a class="nav-link dropdown-toggle text-white" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <!-- person circle icon for user menu -->
                            <i class="bi bi-person-circle me-1"></i>
                            <!-- user name display -->
                            <%= user.name %>
                        </a>
                        <!-- dropdown menu items -->
                        <ul class="dropdown-menu dropdown-menu-end bg-dark border-success">
                            <!-- user info item -->
                            <li>
                                <span class="dropdown-item-text text-light">
                                    <!-- person icon -->
                                    <i class="bi bi-person me-2"></i>
                                    <!-- user id display -->
                                    <strong>ID:</strong> <%= user.user_id %>
                                </span>
                            </li>
                            <!-- account page link -->
                            <li>
                                <a class="dropdown-item text-light" href="/auth/account">
                                    <i class="bi bi-person-gear me-2"></i>
                                    Account
                                </a>
                            </li>
                            <!-- dropdown divider -->
                            <li><hr class="dropdown-divider border-secondary"></li>
                            <!-- logout item -->
                            <li>
                                <a class="dropdown-item text-light" href="/auth/logout">
                                    <!-- box arrow left icon for logout -->
                                    <i class="bi bi-box-arrow-left me-2"></i>
                                    <!-- logout text -->
                                    Logout
                                </a>
                            </li>
                        </ul>
                    </div>
                <% } else { %>
                    <!-- unauthenticated user navigation -->
                    <!-- signin link -->
                    <a class="nav-link text-white" href="/auth/signin">
                        <!-- box arrow in right icon for signin -->
                        <i class="bi bi-box-arrow-in-right me-1"></i>
                        <!-- link text -->
                        Sign In
                    </a>
                    <!-- signup link -->
                    <a class="nav-link text-white" href="/auth/signup">
                        <!-- person plus icon for signup -->
                        <i class="bi bi-person-plus me-1"></i>
                        <!-- link text -->
                        Sign Up
                    </a>
                <% } %>
            </nav>
        </div>
    </header>
    <!-- main content container - holds the primary content of the page -->
    <main>
